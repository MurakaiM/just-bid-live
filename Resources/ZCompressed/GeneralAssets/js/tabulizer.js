function Tabs(t,e){this.currentTab=null,this.currentId=null,this.currentHead=null,this.headers={},this.contents={};var a=t=>{var e=$(t),a=e.data("tab");e.hasClass("disabled")||(this.headers[a]=e,e.click(t=>this.openTab(a)))},s=t=>{var e=$(t),a=e.data("tab");this.contents[a]=e};this.openTab=(t=>{this.currentId&&e[this.currentId]&&e[this.currentId].onClose(this.currentHead,this.currentTab),this.currentHead&&this.currentHead.toggleClass("active"),this.currentHead=this.headers[t],this.currentHead.toggleClass("active"),this.currentTab&&this.currentTab.toggleClass("active"),this.currentTab=this.contents[t],this.currentId=this.id,this.currentTab.toggleClass("active"),e[t]&&e[t].onOpen(this.currentHead,this.currentTab)}),this.preload=((t,a)=>{this.currentHead=t,this.currentTab=a,this.currentId=a.data("tab"),e[this.currentId]&&e[this.currentId].onOpen(this.currentHead,this.currentTab)}),$(t.headers).find("a[data-tab]").each((t,e)=>a(e)),$(t.contents).find(".segment.tab[data-tab]").each((t,e)=>s(e)),this.preload($(t.headers).find("a.active[data-tab]"),$(t.contents).find(".segment.tab.active[data-tab]"))}function LoadSegment(t,e,a){return a.hasClass("loading")||a.addClass("loading"),new Promise((s,r)=>{GET(t).then(t=>s({result:t,segment:a,header:e})).catch(t=>r({result:t,segment:a,header:e}))})}